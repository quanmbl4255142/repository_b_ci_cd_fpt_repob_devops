# django-test-79 - Kubernetes Manifests

Generated by Django Dev Portal

## üì¶ Deployment Information

- **Application**: django-test-79
- **Namespace**: django-test-79
- **Docker Image**: ghcr.io/quanmbl4255142/django-test-79
- **Port**: 8000

## üìÅ Files

- `namespace.yaml` - Kubernetes namespace
- `deployment.yaml` - Application deployment with 2 replicas
- `service.yaml` - ClusterIP service
- `pvc.yaml` - PersistentVolumeClaim (1Gi)
- `ingress.yaml` - Ingress configuration
- `kustomization.yaml` - Kustomize configuration
- `argocd-application.yaml` - ArgoCD Application definition

## üöÄ Deployment to Repository_B (Multi-App Structure)

### Step 1: Add to Repository_B

```bash
# Clone Repository_B
git clone https://github.com/quanmbl4255142/repository_b_ci_cd_fpt_repob_devops.git
cd Repository_B

# Copy manifests to apps/<app-name>/ directory
mkdir -p apps/django-test-79
cp <this-directory>/*.yaml apps/django-test-79/

# Commit and push
git add apps/django-test-79/
git commit -m "Add django-test-79 manifests"
git push origin main
```

### Step 2: ArgoCD Auto-Deploys

ArgoCD ApplicationSet t·ª± ƒë·ªông:
- Ph√°t hi·ªán app m·ªõi trong `apps/django-test-79/`
- T·∫°o Application `django-test-79`
- Deploy v√†o namespace `django-test-79`

```bash
# Check Applications
kubectl get applications -n argocd

# Watch sync
kubectl get app django-test-79 -n argocd -w
```

### Step 3: Verify Deployment

```bash
# Check pods
kubectl get pods -n django-test-79

# Check service
kubectl get svc -n django-test-79

# Check ingress
kubectl get ingress -n django-test-79

# View logs
kubectl logs -f deployment/django-test-79 -n django-test-79
```

## üîÑ Auto-Deployment Workflow

1. Push code to your app repository
2. GitHub Actions builds Docker image
3. Image pushed to registry: ghcr.io/quanmbl4255142/django-test-79
4. ArgoCD Image Updater detects new image
5. Updates deployment.yaml in Repository_B
6. ArgoCD syncs changes
7. New pods deployed automatically

## üõ†Ô∏è Manual Operations

### Force sync
```bash
kubectl patch app django-test-79 -n argocd \
  -p '{"metadata":{"annotations":{"argocd.argoproj.io/refresh":"hard"}}}' \
  --type merge
```

### Restart deployment
```bash
kubectl rollout restart deployment/django-test-79 -n django-test-79
```

### Scale replicas
```bash
kubectl scale deployment/django-test-79 -n django-test-79 --replicas=3
```

### Delete application
```bash
kubectl delete app django-test-79 -n argocd
kubectl delete namespace django-test-79
```

## üìä Monitoring

### Health Check
```bash
curl http://<ingress-host>/api/health/
```

### Resource Usage
```bash
kubectl top pods -n django-test-79
```

### Events
```bash
kubectl get events -n django-test-79 --sort-by='.lastTimestamp'
```

## üîß Customization

### Update replicas
Edit `deployment.yaml`:
```yaml
spec:
  replicas: 3  # Change this
```

### Update resources
Edit `deployment.yaml`:
```yaml
resources:
  requests:
    memory: "512Mi"  # Increase
    cpu: "500m"
  limits:
    memory: "1Gi"
    cpu: "1000m"
```

### Update domain
Edit `ingress.yaml`:
```yaml
spec:
  rules:
  - host: your-custom-domain.com  # Change this
```

## üìö Documentation

- [Repository_B Multi-App Guide](../GIAI-PHAP-REPOSITORY-B.md)
- [ArgoCD Documentation](https://argo-cd.readthedocs.io/)
- [Kubernetes Documentation](https://kubernetes.io/docs/)

---

**Generated**: 2025-10-27 16:52:25  
**Tool**: Django Dev Portal v1.0.0
